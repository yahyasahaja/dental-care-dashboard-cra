(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{109:function(e,t,n){},213:function(e,t,n){e.exports=n(330)},218:function(e,t,n){},28:function(e,t,n){"use strict";var r,a,i,o,c,s,u,l,p,h,d,b,f,g,O,y,v,j,w,m,k=n(5),E=n(10),S=n(4),A=(n(33),n(2)),D=(r=function e(){Object(E.a)(this,e),Object(k.a)(this,"isActive",a,this),Object(k.a)(this,"toggleisActive",i,this),Object(k.a)(this,"show",o,this),Object(k.a)(this,"hide",c,this)},a=Object(S.a)(r.prototype,"isActive",[A.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=Object(S.a)(r.prototype,"toggleisActive",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isActive=!e.isActive}}}),o=Object(S.a)(r.prototype,"show",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isActive=!0}}}),c=Object(S.a)(r.prototype,"hide",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isActive=!1}}}),r),L=window.overlay=new D,R=n(108),T=new(s=function e(){Object(E.a)(this,e),Object(k.a)(this,"data",u,this),Object(k.a)(this,"show",l,this),Object(k.a)(this,"hide",p,this)},u=Object(S.a)(s.prototype,"data",[A.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{active:!1,action:"Dismiss",label:"Snackbar action cancel",type:"cancel",timeout:3e3}}}),l=Object(S.a)(s.prototype,"show",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n,r,a){var i=e.data;e.data=Object(A.l)({active:!0,action:n||i.action,label:t||i.label,type:r||i.type,timeout:a||i.timeout})}}}),p=Object(S.a)(s.prototype,"hide",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.data;e.data=Object(A.l)(Object(R.a)({},t,{active:!1}))}}}),s),x=n(8),U=n.n(x),z=n(15),F=n(14),I=n(12),_=n.n(I),C=n(29),P=(h=function(){function e(){Object(E.a)(this,e),Object(k.a)(this,"data",d,this),Object(k.a)(this,"isLoading",b,this),Object(k.a)(this,"isFetchingUsers",f,this),Object(k.a)(this,"isLoadingLogin",g,this)}return Object(F.a)(e,[{key:"login",value:function(){var e=Object(z.a)(U.a.mark(function e(t,n){var r,a,i,o;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.isLoadingLogin=!0,e.next=4,_.a.post("/api/login",{email:t,password:n});case 4:return r=e.sent,a=r.data,i=a.access_token,o=a.refresh_token,H.setAccessToken(i),H.setRefreshToken(o),e.next=12,this.getUser();case 12:return this.isLoadingLogin=!1,e.abrupt("return",i);case 16:e.prev=16,e.t0=e.catch(0),this.isLoadingLogin=!1,console.log("ERROR WHILE LOGIN",e.t0);case 20:case"end":return e.stop()}},e,this,[[0,16]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(z.a)(U.a.mark(function e(){var t,n;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.isLoading=!0,e.next=4,_.a.get("/api/user/");case 4:return t=e.sent,n=t.data,this.data=n,this.isLoading=!1,console.log(n),e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(0),this.isLoading=!1,T.show("Error fetching user"),console.log("ERROR WHILE FETCHING USERS",e.t0);case 17:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"getUsers",value:function(){var e=Object(z.a)(U.a.mark(function e(){var t,n;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.isFetchingUsers=!0,e.next=4,_.a.get("/api/users");case 4:return t=e.sent,n=t.data.data,this.isFetchingUsers=!1,console.log(n),e.abrupt("return",n);case 11:e.prev=11,e.t0=e.catch(0),this.isFetchingUsers=!1,T.show("Error fetching user"),console.log("ERROR WHILE FETCHING USERS",e.t0);case 16:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"isLoggedIn",get:function(){return!!this.data}}]),e}(),d=Object(S.a)(h.prototype,"data",[A.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=Object(S.a)(h.prototype,"isLoading",[A.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=Object(S.a)(h.prototype,"isFetchingUsers",[A.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=Object(S.a)(h.prototype,"isLoadingLogin",[A.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(S.a)(h.prototype,"isLoggedIn",[A.e],Object.getOwnPropertyDescriptor(h.prototype,"isLoggedIn"),h.prototype),Object(S.a)(h.prototype,"login",[A.d],Object.getOwnPropertyDescriptor(h.prototype,"login"),h.prototype),Object(S.a)(h.prototype,"getUser",[A.d],Object.getOwnPropertyDescriptor(h.prototype,"getUser"),h.prototype),Object(S.a)(h.prototype,"getUsers",[A.d],Object.getOwnPropertyDescriptor(h.prototype,"getUsers"),h.prototype),h),N=window.user=new P,W=(O=function(){function e(){Object(E.a)(this,e),Object(k.a)(this,"rawAccessToken",y,this),Object(k.a)(this,"refreshToken",v,this),Object(k.a)(this,"isSettingUp",j,this)}return Object(F.a)(e,[{key:"setup",value:function(){var e=Object(z.a)(U.a.mark(function e(){var t,n,r,a,i,o,c;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isSettingUp=!0,t=localStorage.getItem(C.a)){e.next=4;break}return e.abrupt("return",this.isSettingUp=!1);case 4:return this.setAccessToken(t),e.next=7,N.getUser();case 7:if(!(n=e.sent)){e.next=11;break}return this.isSettingUp=!1,e.abrupt("return",n);case 11:return r=localStorage.getItem(C.c),e.prev=12,e.next=15,_.a.post("/api/login/refresh",{refresh_token:r});case 15:return a=e.sent,i=a.data,o=i.access_token,c=i.refresh_token,this.setAccessToken(o),this.setRefreshToken(c),e.next=23,N.getUser();case 23:return n=e.sent,this.isSettingUp=!1,e.abrupt("return",n);case 28:e.prev=28,e.t0=e.catch(12),this.isSettingUp=!1,console.log("ERROR WHILE SETTING UP",e.t0);case 32:case"end":return e.stop()}},e,this,[[12,28]])}));return function(){return e.apply(this,arguments)}}()},{key:"setAccessToken",value:function(e){this.rawAccessToken=e,_.a.defaults.headers.Authorization=this.bearerAccessToken,localStorage.setItem(C.a,e)}},{key:"setRefreshToken",value:function(e){this.refreshToken=e,localStorage.setItem(C.c,e)}},{key:"bearerAccessToken",get:function(){return"Bearer ".concat(this.rawAccessToken)}}]),e}(),y=Object(S.a)(O.prototype,"rawAccessToken",[A.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=Object(S.a)(O.prototype,"refreshToken",[A.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=Object(S.a)(O.prototype,"isSettingUp",[A.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Object(S.a)(O.prototype,"bearerAccessToken",[A.e],Object.getOwnPropertyDescriptor(O.prototype,"bearerAccessToken"),O.prototype),Object(S.a)(O.prototype,"setup",[A.d],Object.getOwnPropertyDescriptor(O.prototype,"setup"),O.prototype),Object(S.a)(O.prototype,"setAccessToken",[A.d],Object.getOwnPropertyDescriptor(O.prototype,"setAccessToken"),O.prototype),Object(S.a)(O.prototype,"setRefreshToken",[A.d],Object.getOwnPropertyDescriptor(O.prototype,"setRefreshToken"),O.prototype),O),H=window.token=new W,G=n(61),B=new(w=function(){function e(){Object(E.a)(this,e),Object(k.a)(this,"isActive",m,this),this.onClick=function(){}}return Object(F.a)(e,[{key:"show",value:function(){this.isActive=!0}},{key:"hide",value:function(){this.isActive=!1}}]),e}(),m=Object(S.a)(w.prototype,"isActive",[A.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w);n.d(t,"d",function(){return T}),n.d(t,"e",function(){return H}),n.d(t,"f",function(){return N}),n.d(t,"c",function(){return L}),n.d(t,"a",function(){return G.a}),n.d(t,"b",function(){return B});G.a},29:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return i});var r="https://dentalcare.dhimas.tech",a="access_token_dentalcare",i="refresh_token_dentalcare"},30:function(e,t,n){e.exports={container:"App_container__1T8d6",shadow:"App_shadow__2hWrF",loading:"App_loading__2BSGx",add:"App_add__30Lqh",fab:"App_fab__BmiZW"}},330:function(e,t,n){"use strict";n.r(t);var r,a=n(10),i=n(14),o=n(35),c=n(32),s=n(34),u=n(0),l=n.n(u),p=n(17),h=n.n(p),d=(n(218),n(8)),b=n.n(d),f=n(15),g=n(447),O=n(449),y=n(444),v=n(448),j=n(109),w=n.n(j),m=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:w.a.container},"Loading ...")}}]),t}(u.Component),k=n(44),E=n.n(k),S=n(30),A=n.n(S),D=n(12),L=n.n(D),R=n(49),T=n.n(R),x=n(107),U=n.n(x),z=n(29),F=n(111),I=n(42),_=n.n(I),C=n(112),P=n.n(C),N=n(28),W=n(73),H=l.a.lazy(function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,445))}),G=l.a.lazy(function(){return Promise.all([n.e(0),n.e(5),n.e(3)]).then(n.bind(null,446))});L.a.defaults.baseURL=z.b,L.a.defaults.headers.Accept="application/json",L.a.defaults.headers["Content-Type"]="application/json";var B=Object(W.a)(r=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.e.setup();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderOverlayLoading",value:function(){if(N.c.isActive)return l.a.createElement("section",null,l.a.createElement("div",{className:A.a.loading},l.a.createElement("div",{className:A.a.loading2},l.a.createElement(E.a,{style:{color:"#fff"}}))))}},{key:"render",value:function(){return l.a.createElement("div",{className:A.a.container},l.a.createElement("div",{className:A.a.shadow}),l.a.createElement(u.Suspense,{fallback:l.a.createElement(m,null)},l.a.createElement(g.a,null,l.a.createElement(O.a,null,l.a.createElement(y.a,{path:"/auth/login",render:function(e){return l.a.createElement(H,e)}}),l.a.createElement(y.a,{path:"/dashboard/*",render:function(e){return l.a.createElement(G,e)}}),l.a.createElement(v.a,{from:"/dashboard",to:"/dashboard/home"}),l.a.createElement(v.a,{from:"/",to:"/auth/login"})))),l.a.createElement("section",null,l.a.createElement(F.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:N.d.data.active,autoHideDuration:N.d.data.timeout,message:N.d.data.label,onClose:function(){return N.d.hide()},"data-cy":"snackbar",action:[l.a.createElement(_.a,{key:"close","aria-label":"Close",color:"inherit",onClick:this.closeSnackbar},l.a.createElement(P.a,{"data-cy":"snackbar-close-btn"}))]})),l.a.createElement("section",null,l.a.createElement("div",{className:A.a.add},l.a.createElement(T.a,{style:{display:N.b.isActive?"inline-flex":"none"},onClick:N.b.onClick,color:"primary","aria-label":"Add",className:A.a.fab},l.a.createElement(U.a,null)))),this.renderOverlayLoading())}}]),t}(u.Component))||r,M=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var q=n(27),V=n(71),Z=n.n(V),$=n(113),K=n.n($),Q=Object(q.createMuiTheme)({palette:{primary:K.a,secondary:Z.a},typography:{useNextVariants:!0}}),X=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(q.MuiThemeProvider,{theme:Q},l.a.createElement(B,null))}}]),t}(u.Component);h.a.render(l.a.createElement(X,null),document.getElementById("app")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");M?(function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):J(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):J(t,e)})}}()},61:function(e,t,n){"use strict";var r,a,i,o,c,s,u,l,p,h,d=n(8),b=n.n(d),f=n(15),g=n(5),O=n(10),y=n(14),v=n(4),j=(n(33),n(2)),w=n(12),m=n.n(w),k=(r=function(){function e(){Object(O.a)(this,e),Object(g.a)(this,"isFetchingDoctor",a,this),Object(g.a)(this,"isFetchingDoctors",i,this),Object(g.a)(this,"isFetchingSchedule",o,this),Object(g.a)(this,"isAddingSchedule",c,this),Object(g.a)(this,"isDeletingSchedule",s,this),Object(g.a)(this,"schedule",u,this),Object(g.a)(this,"doctor",l,this),Object(g.a)(this,"doctors",p,this),Object(g.a)(this,"nav",h,this)}return Object(y.a)(e,[{key:"fetchDoctors",value:function(){var e=Object(f.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.isFetchingDoctors=!0,e.next=4,m.a.get("/api/doctors");case 4:t=e.sent,n=t.data.data,this.doctors=n,this.isFetchingDoctors=!1,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),this.isFetchingDoctors=!1,console.log("ERROR WHILE FETCHING DOCTORS",e.t0);case 14:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDoctor",value:function(){var e=Object(f.a)(b.a.mark(function e(t){var n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.isFetchingDoctor=!0,e.next=4,m.a.get("/api/doctors/".concat(t));case 4:return n=e.sent,r=n.data.data,this.isFetchingDoctor=!1,this.doctor=r,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),this.isFetchingDoctor=!1,console.log("Error fetching doctor with id",t);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchSchedule",value:function(){var e=Object(f.a)(b.a.mark(function e(t){var n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.isFetchingSchedule=!0,e.next=4,m.a.get("/api/doctors/".concat(t,"/schedules"));case 4:return n=e.sent,r=n.data.data,this.schedule=r,this.isFetchingSchedule=!1,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),this.isFetchingSchedule=!1,console.log("ERROR WHILE FETCHING SCHEDULE",e.t0);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"addSchedule",value:function(){var e=Object(f.a)(b.a.mark(function e(t,n){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.isAddingSchedule=!0,e.next=4,m.a.post("/api/doctors/".concat(t,"/schedules"),n);case 4:return this.isAddingSchedule=!1,e.abrupt("return",!0);case 8:e.prev=8,e.t0=e.catch(0),this.isAddingSchedule=!1,console.log("ERROR WHILE ADDING SCHEDULE",e.t0);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteSchedule",value:function(){var e=Object(f.a)(b.a.mark(function e(t,n){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.isDeletingSchedule=!0,e.next=4,m.a.delete("/api/doctors/".concat(t,"/schedules/").concat(n));case 4:return this.isDeletingSchedule=!1,e.abrupt("return",!0);case 8:e.prev=8,e.t0=e.catch(0),this.isDeletingSchedule=!1,console.log("ERROR WHILE DELETING SCHEDULE",e.t0);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),a=Object(v.a)(r.prototype,"isFetchingDoctor",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=Object(v.a)(r.prototype,"isFetchingDoctors",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=Object(v.a)(r.prototype,"isFetchingSchedule",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=Object(v.a)(r.prototype,"isAddingSchedule",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=Object(v.a)(r.prototype,"isDeletingSchedule",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=Object(v.a)(r.prototype,"schedule",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=Object(v.a)(r.prototype,"doctor",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=Object(v.a)(r.prototype,"doctors",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=Object(v.a)(r.prototype,"nav",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{name:"Doctors",url:"/dashboard/doctors"}]}}),Object(v.a)(r.prototype,"fetchDoctors",[j.d],Object.getOwnPropertyDescriptor(r.prototype,"fetchDoctors"),r.prototype),Object(v.a)(r.prototype,"fetchDoctor",[j.d],Object.getOwnPropertyDescriptor(r.prototype,"fetchDoctor"),r.prototype),Object(v.a)(r.prototype,"fetchSchedule",[j.d],Object.getOwnPropertyDescriptor(r.prototype,"fetchSchedule"),r.prototype),Object(v.a)(r.prototype,"addSchedule",[j.d],Object.getOwnPropertyDescriptor(r.prototype,"addSchedule"),r.prototype),Object(v.a)(r.prototype,"deleteSchedule",[j.d],Object.getOwnPropertyDescriptor(r.prototype,"deleteSchedule"),r.prototype),r);t.a=new k}},[[213,6,4]]]);
//# sourceMappingURL=main.adafa9e7.chunk.js.map